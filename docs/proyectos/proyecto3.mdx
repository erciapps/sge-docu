---
sidebar_position: 3
---
import EntregaCard from '@site/src/components/EntregaCard';

# Proyecto 3

## Enunciado

A partir de la **tem√°tica asignada en clase**, desarrolla junto a tu compa√±ero **dos m√≥dulos complementarios de Odoo**, donde cada miembro del equipo ser√° responsable de uno de los m√≥dulos.  

Los m√≥dulos deber√°n estar **relacionados entre s√≠** mediante dependencias (`depends`) y deber√°n compartir al menos **una entidad com√∫n** (por ejemplo, un modelo del m√≥dulo A referenciado en el m√≥dulo B).  

Cada m√≥dulo deber√° incluir:

* Todos los **campos y modelos (entidades)** definidos en la propuesta conjunta.  
* **Relaciones** entre los modelos de ambos m√≥dulos (`one2many`, `many2one`, `many2many`).  
* **Validaciones** y restricciones adecuadas.  
* La **generaci√≥n de al menos un informe PDF** relacionado con alguna de las entidades de su m√≥dulo.  
* La **imagen del m√≥dulo** visible en la **lista de aplicaciones de Odoo**.  
* Un **archivo README.md** en el repositorio que explique la estructura del m√≥dulo y c√≥mo interact√∫a con el otro m√≥dulo del proyecto.  

El objetivo es entregar **dos m√≥dulos funcionales, integrados y documentados**, que representen un sistema completo y coherente.

---

## Tem√°ticas

<details>
  <summary>üëÄ Ver tem√°ticas</summary>

  ## TEM√ÅTICA 1. Gesti√≥n de adopciones animales

  **M√≥dulo A ‚Äì Refugio de animales (`refugio_animales`)**

  Modelos: `animal` (nombre, especie, edad, estado), `cuidador`, `instalacion` (nombre, capacidad, tipo).

  Funci√≥n: gestionar los animales, cuidadores y las instalaciones del refugio.

  PDF: ficha de animal con historial y ubicaci√≥n.

  ---

  **M√≥dulo B ‚Äì Adopciones (`adopciones_refugio`)**

  Modelos: `adoptante`, `adopcion` (animal_id, adoptante_id, fecha, estado).

  Depende del m√≥dulo A.

  PDF: contrato o informe de adopci√≥n.

  **Relaciones:** N:M entre adoptantes y animales.

  ---

  ## TEM√ÅTICA 2. Gesti√≥n de proyectos solidarios

  **M√≥dulo A ‚Äì ONG y proyectos (`ong_proyectos`)**

  Modelos: `proyecto` (nombre, objetivo, presupuesto), `coordinador`, `financiador`.

  Funci√≥n: administrar los proyectos solidarios, sus coordinadores y entidades financiadoras.

  PDF: informe de proyectos activos y fuentes de financiaci√≥n.

  ---

  **M√≥dulo B ‚Äì Voluntarios y participaciones (`ong_voluntarios`)**

  Modelos: `voluntario`, `participacion` (proyecto_id, voluntario_id, horas).

  Depende del m√≥dulo A.

  PDF: resumen de participaci√≥n por voluntario o por proyecto.

  **Relaciones:** N:M entre voluntarios y proyectos.

  ---

  ## TEM√ÅTICA 3. Gesti√≥n de huerto escolar

  **M√≥dulo A ‚Äì Cultivos y parcelas (`huerto_cultivos`)**

  Modelos: `parcela`, `cultivo`, `temporada`.

  Funci√≥n: controlar los cultivos y su rotaci√≥n por temporada en las distintas parcelas.

  PDF: ficha de cultivo o informe por temporada.

  ---

  **M√≥dulo B ‚Äì Alumnos y tareas (`huerto_tareas`)**

  Modelos: `alumno`, `tarea` (cultivo_id, alumno_id, descripcion, fecha).

  Depende del m√≥dulo A.

  PDF: informe de tareas por alumno o cultivo.

  **Relaciones:** N:M entre alumnos y cultivos.

  ---

  ## TEM√ÅTICA 4. Gesti√≥n de laboratorio de inform√°tica

  **M√≥dulo A ‚Äì Equipos y software (`lab_equipos`)**

  Modelos: `equipo`, `software`, `aula`.

  Funci√≥n: registrar equipos, aulas y software instalados.

  PDF: inventario de equipos y software por aula.

  ---

  **M√≥dulo B ‚Äì Incidencias y t√©cnicos (`lab_mantenimiento`)**

  Modelos: `incidencia`, `tecnico`.

  Depende del m√≥dulo A.

  PDF: parte de reparaci√≥n o informe de incidencias.

  **Relaciones:** N:M entre equipos y software.

  ---

  ## TEM√ÅTICA 5. Gesti√≥n de biblioteca de videojuegos

  **M√≥dulo A ‚Äì Videojuegos y plataformas (`vg_juegos`)**

  Modelos: `juego`, `plataforma`, `desarrollador`.

  Funci√≥n: catalogar videojuegos, desarrolladores y plataformas disponibles.

  PDF: ficha t√©cnica o cat√°logo de juegos.

  ---

  **M√≥dulo B ‚Äì Usuarios y rese√±as (`vg_rese√±as`)**

  Modelos: `usuario`, `rese√±a` (juego_id, usuario_id, puntuacion, comentario).

  Depende del m√≥dulo A.

  PDF: informe de rese√±as o valoraci√≥n media.

  **Relaciones:** N:M entre usuarios y juegos.

  ---

  ## TEM√ÅTICA 6. Gesti√≥n de excursiones escolares

  **M√≥dulo A ‚Äì Excursiones y destinos (`excursiones_core`)**

  Modelos: `excursion`, `destino`, `profesor`.

  Funci√≥n: planificar excursiones, destinos y responsables docentes.

  PDF: ficha de excursi√≥n o itinerario.

  ---

  **M√≥dulo B ‚Äì Participantes y autorizaciones (`excursiones_participantes`)**

  Modelos: `alumno`, `autorizacion` (excursion_id, alumno_id, estado).

  Depende del m√≥dulo A.

  PDF: listado de participantes o justificante de autorizaci√≥n.

  **Relaciones:** N:M entre alumnos y excursiones.

  ---

  ## TEM√ÅTICA 7. Gesti√≥n de productos ecol√≥gicos locales

  **M√≥dulo A ‚Äì Productores y productos (`eco_productos`)**

  Modelos: `productor`, `producto`, `categoria`.

  Funci√≥n: mantener el cat√°logo de productos ecol√≥gicos y sus productores.

  PDF: cat√°logo de productos.

  ---

  **M√≥dulo B ‚Äì Pedidos y clientes (`eco_pedidos`)**

  Modelos: `cliente`, `pedido` (producto_id, cliente_id, fecha).

  Depende del m√≥dulo A.

  PDF: factura o ticket ecol√≥gico.

  **Relaciones:** N:M entre productos y pedidos.

  ---

  ## TEM√ÅTICA 8. Gesti√≥n educativa integrada (un m√≥dulo base y dos dependientes)

  **M√≥dulo Base ‚Äì Centros y docentes (`edu_centro`)**

  Modelos: `centro`, `docente`, `departamento`.

  Funci√≥n: gestionar los centros educativos, departamentos y personal docente.

  PDF: informe general de centros y docentes.

  ---

  **M√≥dulo B ‚Äì Alumnado y matr√≠culas (`edu_alumnos`)**

  Modelos: `alumno`, `matricula` (centro_id, alumno_id, curso, grupo).

  Depende del m√≥dulo base.

  PDF: ficha de matr√≠cula o listado por grupo.

  ---

  **M√≥dulo C ‚Äì Actividades y participaci√≥n (`edu_actividades`)**

  Modelos: `actividad`, `participacion` (actividad_id, alumno_id, horas).

  Depende de los m√≥dulos base y alumnado.

  PDF: informe de participaci√≥n o control de horas.

  **Relaciones:**  
  - N:M entre alumnos y actividades.  
  - N:M entre centros y docentes.

  ---

</details>

## Entrega

Cada pareja deber√° entregar **una √∫nica entrega conjunta** que incluya:

* Archivo `.zip` con ambos m√≥dulos (`modulo_a` y `modulo_b`).
* **PDF del manual conjunto de funcionamiento**, que describa:
  - C√≥mo se relacionan los m√≥dulos.
  - Qu√© validaciones realiza cada uno.
  - C√≥mo se generan los informes PDF.
* Archivo de texto con el **enlace al repositorio GitHub** del proyecto (ambos m√≥dulos).
* **PDFs de los informes generados** por cada m√≥dulo.
* Indicar claramente en el manual qu√© parte corresponde a cada miembro del equipo.

Recuerda que ambos miembros son responsables de la correcta integraci√≥n y funcionamiento del sistema completo.

---

<EntregaCard
  unidad="SISTEMAS DE GESTI√ìN EMPRESARIAL"
  title="Proyecto 3 ODOO ‚Äì M√≥dulos complementarios"
  description="Desarrollo por parejas de dos m√≥dulos interdependientes"
  date="29-12-2025"
  time="23:30"
  link="https://aulasciclos2526.castillalamancha.es/mod/assign/view.php?id=706985"
/>

## EJEMPLO

**TEM√ÅTICA. Gesti√≥n de pedidos y facturaci√≥n simple**

**M√≥dulo A ‚Äì Ventas y pedidos (`ventas_pedidos`)**

**Modelos:** `cliente`, `producto`, `pedido`.  

**Funci√≥n:** gestionar clientes, productos y pedidos, registrando la fecha, el cliente y los productos asociados.  

**PDF:** factura o pedido impreso con los productos, precios y totales.  


**M√≥dulo B ‚Äì Env√≠os y transportistas (`ventas_envios`)**

**Modelos:** `transportista`, `envio` (`pedido_id`, `transportista_id`, `fecha_envio`, `estado`, `codigo_seguimiento`).  

**Depende del m√≥dulo A.**  

**Funci√≥n:** gestionar transportistas y registrar env√≠os vinculados a pedidos.  

**PDF:** albar√°n o etiqueta de env√≠o con informaci√≥n del pedido y del transportista.  

---

## M√ìDULO A ‚Äì ventas_pedidos

**__manifest__.py**

```python
{
    'name': 'Gesti√≥n de Ventas y Pedidos',
    'version': '1.0',
    'category': 'Educativo',
    'author': 'Alumno A',
    'depends': ['base'],
    'data': [
        # Aqu√≠ ir√°n las vistas XML y reportes PDF
    ],
    'application': True,
}
```

---

**models/models.py**

```python
from odoo import models, fields

# ============================================================
# MODELO CLIENTE
# ============================================================
class Cliente(models.Model):
    _name = 'ventas.cliente'
    _description = 'Cliente del sistema de ventas'

    name = fields.Char(string='Nombre completo', required=True)
    email = fields.Char(string='Correo electr√≥nico')
    telefono = fields.Char(string='Tel√©fono')
    direccion = fields.Char(string='Direcci√≥n')

    pedido_ids = fields.One2many('ventas.pedido', 'cliente_id', string='Pedidos realizados')


# ============================================================
# MODELO PRODUCTO
# ============================================================
class Producto(models.Model):
    _name = 'ventas.producto'
    _description = 'Producto disponible para la venta'

    name = fields.Char(string='Nombre del producto', required=True)
    precio = fields.Float(string='Precio (‚Ç¨)', required=True)
    descripcion = fields.Text(string='Descripci√≥n')
    stock = fields.Integer(string='Unidades disponibles', default=0)

    pedido_ids = fields.Many2many('ventas.pedido', string='Pedidos asociados')


# ============================================================
# MODELO PEDIDO
# ============================================================
class Pedido(models.Model):
    _name = 'ventas.pedido'
    _description = 'Pedido de cliente'

    name = fields.Char(string='C√≥digo del pedido', required=True)
    fecha_pedido = fields.Date(string='Fecha del pedido', default=fields.Date.today)
    estado = fields.Selection([
        ('pendiente', 'Pendiente'),
        ('confirmado', 'Confirmado'),
        ('facturado', 'Facturado'),
        ('cancelado', 'Cancelado')
    ], string='Estado', default='pendiente')

    cliente_id = fields.Many2one('ventas.cliente', string='Cliente', required=True)
    producto_ids = fields.Many2many('ventas.producto', string='Productos del pedido')
    total = fields.Float(string='Importe total (‚Ç¨)', compute='_calcular_total', store=True)

    def _calcular_total(self):
        """Suma los precios de todos los productos asociados al pedido."""
        for pedido in self:
            pedido.total = sum(p.precio for p in pedido.producto_ids)
```

---

## M√ìDULO B ‚Äì ventas_envios


**__manifest__.py**

```python
{
    'name': 'Gesti√≥n de Env√≠os y Transportistas',
    'version': '1.0',
    'category': 'Educativo',
    'author': 'Alumno B',
    'depends': ['base', 'ventas_pedidos'],
    'data': [
        # Aqu√≠ ir√°n las vistas XML y reportes PDF
    ],
    'application': True,
}
```

---

**models/models.py**

```python
from odoo import models, fields

# ============================================================
# MODELO TRANSPORTISTA
# ============================================================
class Transportista(models.Model):
    _name = 'envio.transportista'
    _description = 'Transportista encargado de los env√≠os'

    name = fields.Char(string='Nombre del transportista', required=True)
    telefono = fields.Char(string='Tel√©fono')
    email = fields.Char(string='Correo electr√≥nico')
    empresa = fields.Char(string='Empresa')

    envio_ids = fields.One2many('envio.envio', 'transportista_id', string='Env√≠os realizados')


# ============================================================
# MODELO ENV√çO
# ============================================================
class Envio(models.Model):
    _name = 'envio.envio'
    _description = 'Registro de env√≠o de pedidos'

    name = fields.Char(string='C√≥digo de env√≠o', required=True)
    fecha_envio = fields.Date(string='Fecha de env√≠o', default=fields.Date.today)
    estado = fields.Selection([
        ('pendiente', 'Pendiente'),
        ('en_transito', 'En tr√°nsito'),
        ('entregado', 'Entregado'),
        ('devuelto', 'Devuelto')
    ], string='Estado', default='pendiente')

    pedido_id = fields.Many2one('ventas.pedido', string='Pedido asociado', required=True)
    transportista_id = fields.Many2one('envio.transportista', string='Transportista asignado')
    codigo_seguimiento = fields.Char(string='C√≥digo de seguimiento')
    notas = fields.Text(string='Notas adicionales')

```

---

### **Explicaci√≥n**

- El m√≥dulo **`ventas_envios` depende de `ventas_pedidos`**, por lo que puede acceder al modelo `ventas.pedido`.
- Se utiliza una relaci√≥n **Many2many** entre `pedido` y `producto`, que en PostgreSQL se materializa con una tabla intermedia (`pedido_producto_rel`), creada autom√°ticamente por Odoo.
- Las relaciones principales son:
  - `Cliente (1:N) Pedido`
  - `Pedido (N:M) Producto`
  - `Pedido (1:N) Env√≠o`
  - `Transportista (1:N) Env√≠o`
- Ambos m√≥dulos pueden generar **informes PDF complementarios**:
  - `ventas_pedidos`: pedido o factura.
  - `ventas_envios`: albar√°n o etiqueta de env√≠o.

<figure>
  <img src="/img/modulos/ddbbejemplo.png" alt="ddbbejemplo" width="600" />
</figure>

---


